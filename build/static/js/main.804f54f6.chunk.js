(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{12:function(e,t,n){e.exports={calorificCapacity:"ingredients-details_calorificCapacity__3_9Cb",capacity:"ingredients-details_capacity__2JWcT"}},136:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(18),i=n.n(s),r=n(38),l=n.n(r),d=n(11),o=n(57),j=n(10),m=n(37),x=n.n(m),p=n(3),u=n(19),b=n.n(u),h=n(0),_=function(){return Object(h.jsx)("header",{className:b.a.header,children:Object(h.jsxs)("nav",{className:"".concat(b.a.headerContent," pt-4 pb-4"),children:[Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsxs)("div",{style:{display:"flex"},className:"mr-2 pl-5 pt-4 pr-5 pb-4",children:[Object(h.jsx)(p.BurgerIcon,{type:"primary"}),Object(h.jsx)("p",{className:"text text_type_main-default ml-2",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(h.jsxs)("div",{style:{display:"flex"},className:"pl-5 pt-4 pr-5 pb-4",children:[Object(h.jsx)(p.ListIcon,{type:"secondary"}),Object(h.jsx)("p",{className:"text text_type_main-default ml-2",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(h.jsx)("div",{className:"".concat(b.a.logoItem," ml-30"),children:Object(h.jsx)(p.Logo,{})}),Object(h.jsxs)("div",{style:{display:"flex"},className:"pl-5 pt-4 pr-5 pb-4",children:[Object(h.jsx)(p.ProfileIcon,{type:"secondary"}),Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive ml-2",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]})})},O=n(15),y=n.n(O),g=n(58),f=n.n(g),N=function(e){var t=e.children,n=e.onClose,s=Object(c.useRef)(document.createElement("div")),i=Object(c.useCallback)((function(e){27===e.keyCode&&n()}),[n]),r=a.a.useCallback((function(e){var t=e.target;s.current===t&&n()}),[n]);return Object(c.useEffect)((function(){return document.addEventListener("keydown",i),document.addEventListener("click",r),function(){document.removeEventListener("keydown",i),document.removeEventListener("click",r)}})),Object(h.jsx)("div",{ref:s,className:f.a.overlay,children:t})},v=n(16),C=n.n(v),k=function(e){var t=e.children,n=e.title,c=e.onClose,a=document.getElementById("modal-root");return i.a.createPortal(Object(h.jsx)(N,{onClose:c,children:Object(h.jsxs)("div",{className:C.a.modal,children:[Object(h.jsxs)("div",{className:"text text_type_main-large\n                            ".concat(n?C.a.withTitle:C.a.withoutTitle),children:[n,Object(h.jsx)(p.CloseIcon,{type:"primary",onClick:c})]}),Object(h.jsx)("div",{className:C.a.content,children:t})]})}),a)};k.defaultProps={title:""};var I=k,E=n.p+"static/media/doneIcon.7341dd32.svg",w=n(20),B=n.n(w),T=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:"text text_type_digits-large ".concat(B.a.orderId),children:"034546"}),Object(h.jsx)("span",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(h.jsx)("div",{className:B.a.doneIcon,children:Object(h.jsx)("img",{src:E,alt:"done-icon"})}),Object(h.jsxs)("div",{className:B.a.description,children:[Object(h.jsx)("span",{className:"text text_type_main-default",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(h.jsx)("span",{style:{color:"#8585AD"},className:"text text_type_main-default",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})]})},L=function(e){var t=e.ingredients,n=e.hasError,a=Object(c.useState)(!1),s=Object(j.a)(a,2),i=s[0],r=s[1],l=2510,d=t.slice(1,t.length+1);return l+=d.reduce((function(e,t){return e+t.price}),0),n?Object(h.jsx)("section",{style:{width:600},children:Object(h.jsx)("h1",{style:{height:40},className:"text text_type_main-large",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445..."})}):Object(h.jsxs)("section",{style:{width:600},children:[Object(h.jsxs)("div",{className:"".concat(y.a.ingredientsWrapper," mt-25"),children:[Object(h.jsx)(p.ConstructorElement,{type:"top",isLocked:!0,text:"\u041a\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0431\u0443\u043b\u043a\u0430 N-200i (\u0432\u0435\u0440\u0445)",price:1255,thumbnail:"https://code.s3.yandex.net/react/code/bun-02-mobile.png"}),Object(h.jsx)("ul",{className:y.a.toppings,children:d.map((function(e){return Object(h.jsxs)("li",{style:{width:568,marginRight:18},children:[Object(h.jsx)(p.DragIcon,{type:"primary"}),Object(h.jsx)(p.ConstructorElement,{isLocked:!1,text:e.name,price:e.price,thumbnail:e.image_mobile})]},e._id)}))}),Object(h.jsx)(p.ConstructorElement,{type:"bottom",isLocked:!0,text:"\u041a\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0431\u0443\u043b\u043a\u0430 N-200i (\u043d\u0438\u0437)",price:1255,thumbnail:"https://code.s3.yandex.net/react/code/bun-02-mobile.png"})]}),Object(h.jsxs)("div",{className:"".concat(y.a.submitBlock," mt-10 mr-4"),children:[Object(h.jsxs)("span",{className:"".concat(y.a.totalPrice," text text_type_digits-medium mr-10"),children:[l,"\xa0",Object(h.jsx)(p.CurrencyIcon,{type:"primary"})]}),Object(h.jsx)(p.Button,{type:"primary",size:"large",onClick:function(){return r(!0)},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]}),i?Object(h.jsx)(I,{onClose:function(){return r(!1)},children:Object(h.jsx)(T,{})}):null]})},D=n(39),P=n.n(D),W=function(e){var t=e.data,n=e.onClick;return Object(h.jsx)("div",{style:{overflow:"hidden"},onClick:function(){return n(t)},children:Object(h.jsxs)("li",{className:"".concat(P.a.ingredientCard),children:[Object(h.jsx)("img",{className:"ml-4 mr-4",src:t.image,alt:t.name}),Object(h.jsxs)("span",{style:{display:"flex"},className:"text text_type_digits-default mt-1 mb-1",children:[t.price,"\xa0",Object(h.jsx)(p.CurrencyIcon,{type:"primary"})]}),Object(h.jsx)("span",{className:"".concat(P.a.ingredientName," text text_type_main-default"),children:t.name})]})})},S=n(7),J=n.n(S),M=n(12),q=n.n(M),F=function(e){var t=e.data;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{style:{height:240},src:t.image_large,alt:t.name}),Object(h.jsx)("span",{style:{marginTop:16,marginBottom:32},className:"text text_type_main-medium",children:t.name}),Object(h.jsxs)("div",{className:q.a.calorificCapacity,children:[Object(h.jsxs)("div",{className:q.a.capacity,children:[Object(h.jsx)("span",{className:"text text_type_main-default",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(h.jsx)("span",{className:"text text_type_digits-default",children:t.calories})]}),Object(h.jsxs)("div",{className:q.a.capacity,children:[Object(h.jsx)("span",{className:"text text_type_main-default",children:"\u0411\u0435\u043b\u043a\u0438,\u0433"}),Object(h.jsx)("span",{className:"text text_type_digits-default",children:t.proteins})]}),Object(h.jsxs)("div",{className:q.a.capacity,children:[Object(h.jsx)("span",{className:"text text_type_main-default",children:"\u0416\u0438\u0440\u044b,\u0433"}),Object(h.jsx)("span",{className:"text text_type_digits-default",children:t.fat})]}),Object(h.jsxs)("div",{className:q.a.capacity,children:[Object(h.jsx)("span",{className:"text text_type_main-default",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b,\u0433"}),Object(h.jsx)("span",{className:"text text_type_digits-default",children:t.carbohydrates})]})]})]})},G=function(e){var t=e.ingredients,n=e.hasError,a=Object(c.useState)({modalIsOpen:!1,ingredientData:{}}),s=Object(j.a)(a,2),i=s[0],r=s[1],l=Object(c.useCallback)((function(e){r({modalIsOpen:!0,ingredientData:e})}),[]);return n?Object(h.jsx)("section",{style:{width:600},className:"mr-10",children:Object(h.jsx)("h1",{style:{height:40},className:"text text_type_main-large",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445..."})}):Object(h.jsxs)("section",{style:{width:600},className:"mr-10",children:[Object(h.jsx)("h1",{style:{height:40},className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsx)(p.Tab,{value:"buns",active:!0,onClick:function(){},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(h.jsx)(p.Tab,{value:"sauces",active:!1,onClick:function(){},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(h.jsx)(p.Tab,{value:"mains",active:!1,onClick:function(){},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(h.jsxs)("div",{className:J.a.ingredientsWrapper,children:[Object(h.jsx)("h3",{className:"".concat(J.a.subtitle," text text_type_main-medium"),children:"\u0411\u0443\u043b\u043a\u0438"}),Object(h.jsx)("ul",{className:J.a.ingredientsBlock,children:t.filter((function(e){return"bun"===e.type})).map((function(e){return Object(h.jsx)(W,{data:e,onClick:l},e._id)}))}),Object(h.jsx)("h3",{className:"".concat(J.a.subtitle," text text_type_main-medium"),children:"\u0421\u043e\u0443\u0441\u044b"}),Object(h.jsx)("ul",{className:J.a.ingredientsBlock,children:t.filter((function(e){return"sauce"===e.type})).map((function(e){return Object(h.jsx)(W,{data:e,onClick:l},e._id)}))}),Object(h.jsx)("h3",{className:"".concat(J.a.subtitle," text text_type_main-medium"),children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0430"}),Object(h.jsx)("ul",{className:J.a.ingredientsBlock,children:t.filter((function(e){return"main"===e.type})).map((function(e){return Object(h.jsx)(W,{data:e,onClick:l},e._id)}))})]}),i.modalIsOpen?Object(h.jsx)(I,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",onClose:function(){return r(Object(d.a)(Object(d.a)({},i),{},{modalIsOpen:!1}))},children:Object(h.jsx)(F,{data:i.ingredientData})}):null]})},R=function(e){var t=e.ingredients,n=Object(c.useState)({ingredientData:[],hasError:!1}),a=Object(j.a)(n,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(Object(d.a)(Object(d.a)({},s),{},{hasError:!1})),e.next=3,fetch("https://norma.nomoreparties.space/api/ingredients");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,i({ingredientData:n.data,hasError:!1});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(_,{}),Object(h.jsxs)("main",{className:x.a.main,children:[Object(h.jsx)(G,{ingredients:s.ingredientData,hasError:s.hasError}),Object(h.jsx)(L,{ingredients:s.ingredientData,hasError:s.hasError})]})]})};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root"))},15:function(e,t,n){e.exports={ingredientsWrapper:"burger-constructor_ingredientsWrapper__2HVYJ",toppings:"burger-constructor_toppings__3V4kg",submitBlock:"burger-constructor_submitBlock__3vGtQ",totalPrice:"burger-constructor_totalPrice__3_P12"}},16:function(e,t,n){e.exports={modal:"modal_modal__1h5My",withTitle:"modal_withTitle__1p9Ls",withoutTitle:"modal_withoutTitle__2TOrY",content:"modal_content__vAjff"}},19:function(e,t,n){e.exports={header:"app-header_header__2ZLMU",headerContent:"app-header_headerContent__qH9Ml",logoItem:"app-header_logoItem__XDxSX"}},20:function(e,t,n){e.exports={orderId:"order-details_orderId__2PLvj",doneIcon:"order-details_doneIcon__18jKu",description:"order-details_description__13cO2"}},37:function(e,t,n){e.exports={main:"app_main__39tvC"}},39:function(e,t,n){e.exports={ingredientCard:"ingredient-card_ingredientCard__toCGU",ingredientName:"ingredient-card_ingredientName__t0TdD"}},58:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__1NjRQ"}},7:function(e,t,n){e.exports={subtitle:"burger-ingredients_subtitle__3nq0X",ingredientsWrapper:"burger-ingredients_ingredientsWrapper__1mqGS",ingredientsBlock:"burger-ingredients_ingredientsBlock__1Z5Ci"}}},[[136,1,2]]]);
//# sourceMappingURL=main.804f54f6.chunk.js.map