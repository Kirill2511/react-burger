(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{12:function(e,t,n){e.exports={modal:"modal_modal__1h5My",withTitle:"modal_withTitle__1p9Ls",withoutTitle:"modal_withoutTitle__2TOrY",modalButton:"modal_modalButton__3dLR3",content:"modal_content__vAjff"}},13:function(e,t,n){e.exports={calorificCapacity:"ingredients-details_calorificCapacity__3_9Cb",capacity:"ingredients-details_capacity__2JWcT"}},136:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(18),i=n.n(s),r=n(38),l=n.n(r),d=n(7),o=n(57),j=n(11),m=n(37),x=n.n(m),p=n(3),u=n(19),b=n.n(u),_=n(0),h=function(){return Object(_.jsx)("header",{className:b.a.header,children:Object(_.jsxs)("nav",{className:"".concat(b.a.headerContent," pt-4 pb-4"),children:[Object(_.jsxs)("div",{style:{display:"flex"},children:[Object(_.jsxs)("div",{style:{display:"flex"},className:"mr-2 pl-5 pt-4 pr-5 pb-4",children:[Object(_.jsx)(p.BurgerIcon,{type:"primary"}),Object(_.jsx)("p",{className:"text text_type_main-default ml-2",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(_.jsxs)("div",{style:{display:"flex"},className:"pl-5 pt-4 pr-5 pb-4",children:[Object(_.jsx)(p.ListIcon,{type:"secondary"}),Object(_.jsx)("p",{className:"text text_type_main-default ml-2",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(_.jsx)("div",{className:"".concat(b.a.logoItem," ml-30"),children:Object(_.jsx)(p.Logo,{})}),Object(_.jsxs)("div",{style:{display:"flex"},className:"pl-5 pt-4 pr-5 pb-4",children:[Object(_.jsx)(p.ProfileIcon,{type:"secondary"}),Object(_.jsx)("p",{className:"text text_type_main-default text_color_inactive ml-2",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]})})},O=n(16),y=n.n(O),g=n(58),f=n.n(g),v=function(e){var t=e.onClose,n=Object(a.useRef)(document.createElement("div")),s=Object(a.useCallback)((function(e){27===e.keyCode&&t()}),[t]),i=c.a.useCallback((function(e){var a=e.target;n.current===a&&t()}),[t]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",s),document.addEventListener("click",i),function(){document.removeEventListener("keydown",s),document.removeEventListener("click",i)}})),Object(_.jsx)("div",{ref:n,className:f.a.overlay})},N=n(12),C=n.n(N),k=function(e){var t=e.children,n=e.title,a=e.onClose,c=document.getElementById("modal-root");return i.a.createPortal(Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(v,{onClose:a}),Object(_.jsxs)("div",{className:C.a.modal,children:[Object(_.jsxs)("div",{className:"text text_type_main-large\n                            ".concat(n?C.a.withTitle:C.a.withoutTitle),children:[n,Object(_.jsx)("button",{type:"button",className:C.a.modalButton,onClick:a,children:Object(_.jsx)(p.CloseIcon,{type:"primary"})})]}),Object(_.jsx)("div",{className:C.a.content,children:t})]})]}),c)};k.defaultProps={title:""};var I=k,E=n.p+"static/media/doneIcon.7341dd32.svg",w=n(20),B=n.n(w),L=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"text text_type_digits-large ".concat(B.a.orderId),children:"034546"}),Object(_.jsx)("span",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(_.jsx)("div",{className:B.a.doneIcon,children:Object(_.jsx)("img",{src:E,alt:"done-icon"})}),Object(_.jsxs)("div",{className:B.a.description,children:[Object(_.jsx)("span",{className:"text text_type_main-default",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(_.jsx)("span",{style:{color:"#8585AD"},className:"text text_type_main-default",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})]})},T=function(e){var t=e.ingredients,n=e.hasError,c=Object(a.useState)(!1),s=Object(j.a)(c,2),i=s[0],r=s[1],l=2510,d=t.slice(1,t.length+1);return l+=d.reduce((function(e,t){return e+t.price}),0),n?Object(_.jsx)("section",{style:{width:600},children:Object(_.jsx)("h1",{style:{height:40},className:"text text_type_main-large",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445..."})}):Object(_.jsxs)("section",{style:{width:600},children:[Object(_.jsxs)("div",{className:"".concat(y.a.ingredientsWrapper," mt-25"),children:[Object(_.jsx)(p.ConstructorElement,{type:"top",isLocked:!0,text:"\u041a\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0431\u0443\u043b\u043a\u0430 N-200i (\u0432\u0435\u0440\u0445)",price:1255,thumbnail:"https://code.s3.yandex.net/react/code/bun-02-mobile.png"}),Object(_.jsx)("ul",{className:y.a.toppings,children:d.map((function(e){return Object(_.jsxs)("li",{style:{width:568,marginRight:18},children:[Object(_.jsx)(p.DragIcon,{type:"primary"}),Object(_.jsx)(p.ConstructorElement,{isLocked:!1,text:e.name,price:e.price,thumbnail:e.image_mobile})]},e._id)}))}),Object(_.jsx)(p.ConstructorElement,{type:"bottom",isLocked:!0,text:"\u041a\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0431\u0443\u043b\u043a\u0430 N-200i (\u043d\u0438\u0437)",price:1255,thumbnail:"https://code.s3.yandex.net/react/code/bun-02-mobile.png"})]}),Object(_.jsxs)("div",{className:"".concat(y.a.submitBlock," mt-10 mr-4"),children:[Object(_.jsxs)("span",{className:"".concat(y.a.totalPrice," text text_type_digits-medium mr-10"),children:[l,"\xa0",Object(_.jsx)(p.CurrencyIcon,{type:"primary"})]}),Object(_.jsx)(p.Button,{type:"primary",size:"large",onClick:function(){return r(!0)},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]}),i?Object(_.jsx)(I,{onClose:function(){return r(!1)},children:Object(_.jsx)(L,{})}):null]})},P=n(39),D=n.n(P),W=function(e){var t=e.data,n=e.onClick;return Object(_.jsx)("div",{style:{overflow:"hidden"},onClick:function(){return n(t)},children:Object(_.jsxs)("li",{className:"".concat(D.a.ingredientCard),children:[Object(_.jsx)("img",{className:"ml-4 mr-4",src:t.image,alt:t.name}),Object(_.jsxs)("span",{style:{display:"flex"},className:"text text_type_digits-default mt-1 mb-1",children:[t.price,"\xa0",Object(_.jsx)(p.CurrencyIcon,{type:"primary"})]}),Object(_.jsx)("span",{className:"".concat(D.a.ingredientName," text text_type_main-default"),children:t.name})]})})},S=n(8),F=n.n(S),J=n(13),M=n.n(J),R=function(e){var t=e.data;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("img",{style:{height:240},src:t.image_large,alt:t.name}),Object(_.jsx)("span",{style:{marginTop:16,marginBottom:32},className:"text text_type_main-medium",children:t.name}),Object(_.jsxs)("div",{className:M.a.calorificCapacity,children:[Object(_.jsxs)("div",{className:M.a.capacity,children:[Object(_.jsx)("span",{className:"text text_type_main-default",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(_.jsx)("span",{className:"text text_type_digits-default",children:t.calories})]}),Object(_.jsxs)("div",{className:M.a.capacity,children:[Object(_.jsx)("span",{className:"text text_type_main-default",children:"\u0411\u0435\u043b\u043a\u0438,\u0433"}),Object(_.jsx)("span",{className:"text text_type_digits-default",children:t.proteins})]}),Object(_.jsxs)("div",{className:M.a.capacity,children:[Object(_.jsx)("span",{className:"text text_type_main-default",children:"\u0416\u0438\u0440\u044b,\u0433"}),Object(_.jsx)("span",{className:"text text_type_digits-default",children:t.fat})]}),Object(_.jsxs)("div",{className:M.a.capacity,children:[Object(_.jsx)("span",{className:"text text_type_main-default",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b,\u0433"}),Object(_.jsx)("span",{className:"text text_type_digits-default",children:t.carbohydrates})]})]})]})},q=function(e){var t=e.ingredients,n=e.hasError,c=Object(a.useState)({modalIsOpen:!1,ingredientData:{}}),s=Object(j.a)(c,2),i=s[0],r=s[1],l=Object(a.useCallback)((function(e){r({modalIsOpen:!0,ingredientData:e})}),[]);return n?Object(_.jsx)("section",{style:{width:600},className:"mr-10",children:Object(_.jsx)("h1",{style:{height:40},className:"text text_type_main-large",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445..."})}):Object(_.jsxs)("section",{style:{width:600},className:"mr-10",children:[Object(_.jsx)("h1",{style:{height:40},className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(_.jsxs)("div",{style:{display:"flex"},children:[Object(_.jsx)(p.Tab,{value:"buns",active:!0,onClick:function(){},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(_.jsx)(p.Tab,{value:"sauces",active:!1,onClick:function(){},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(_.jsx)(p.Tab,{value:"mains",active:!1,onClick:function(){},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(_.jsxs)("div",{className:F.a.ingredientsWrapper,children:[Object(_.jsx)("h3",{className:"".concat(F.a.subtitle," text text_type_main-medium"),children:"\u0411\u0443\u043b\u043a\u0438"}),Object(_.jsx)("ul",{className:F.a.ingredientsBlock,children:t.filter((function(e){return"bun"===e.type})).map((function(e){return Object(_.jsx)(W,{data:e,onClick:l},e._id)}))}),Object(_.jsx)("h3",{className:"".concat(F.a.subtitle," text text_type_main-medium"),children:"\u0421\u043e\u0443\u0441\u044b"}),Object(_.jsx)("ul",{className:F.a.ingredientsBlock,children:t.filter((function(e){return"sauce"===e.type})).map((function(e){return Object(_.jsx)(W,{data:e,onClick:l},e._id)}))}),Object(_.jsx)("h3",{className:"".concat(F.a.subtitle," text text_type_main-medium"),children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0430"}),Object(_.jsx)("ul",{className:F.a.ingredientsBlock,children:t.filter((function(e){return"main"===e.type})).map((function(e){return Object(_.jsx)(W,{data:e,onClick:l},e._id)}))})]}),i.modalIsOpen?Object(_.jsx)(I,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",onClose:function(){return r(Object(d.a)(Object(d.a)({},i),{},{modalIsOpen:!1}))},children:Object(_.jsx)(R,{data:i.ingredientData})}):null]})},G=function(){var e=Object(a.useState)({data:[],hasError:!1}),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://norma.nomoreparties.space/api/ingredients");case 3:if(!(t=e.sent).ok){e.next=12;break}return e.next=7,t.json();case 7:a=e.sent,s=a.data,c(Object(d.a)(Object(d.a)({},n),{},{data:s})),e.next=13;break;case 12:throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(t.status));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),c(Object(d.a)(Object(d.a)({},n),{},{hasError:!0}));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(h,{}),Object(_.jsxs)("main",{className:x.a.main,children:[Object(_.jsx)(q,{ingredients:n.data,hasError:n.hasError}),Object(_.jsx)(T,{ingredients:n.data,hasError:n.hasError})]})]})};i.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(G,{})}),document.getElementById("root"))},16:function(e,t,n){e.exports={ingredientsWrapper:"burger-constructor_ingredientsWrapper__2HVYJ",toppings:"burger-constructor_toppings__3V4kg",submitBlock:"burger-constructor_submitBlock__3vGtQ",totalPrice:"burger-constructor_totalPrice__3_P12"}},19:function(e,t,n){e.exports={header:"app-header_header__2ZLMU",headerContent:"app-header_headerContent__qH9Ml",logoItem:"app-header_logoItem__XDxSX"}},20:function(e,t,n){e.exports={orderId:"order-details_orderId__2PLvj",doneIcon:"order-details_doneIcon__18jKu",description:"order-details_description__13cO2"}},37:function(e,t,n){e.exports={main:"app_main__39tvC"}},39:function(e,t,n){e.exports={ingredientCard:"ingredient-card_ingredientCard__toCGU",ingredientName:"ingredient-card_ingredientName__t0TdD"}},58:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__1NjRQ"}},8:function(e,t,n){e.exports={subtitle:"burger-ingredients_subtitle__3nq0X",ingredientsWrapper:"burger-ingredients_ingredientsWrapper__1mqGS",ingredientsBlock:"burger-ingredients_ingredientsBlock__1Z5Ci"}}},[[136,1,2]]]);
//# sourceMappingURL=main.a3db4ecc.chunk.js.map