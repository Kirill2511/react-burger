(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{101:function(e,t,n){e.exports={wrapper:"app_wrapper__HhYgi",nav_panel:"app_nav_panel__1CF8T",main:"app_main__39tvC"}},121:function(e,t,n){e.exports={item:"burger-constructor-item_item__3TAnD",item_elem:"burger-constructor-item_item_elem__3uivU",drag_icon:"burger-constructor-item_drag_icon__1Fc2A"}},123:function(e,t,n){e.exports={container:"ingredient-details-item_container__hC2kH",details_list:"ingredient-details-item_details_list__5Vqdt",details_list_item:"ingredient-details-item_details_list_item__1dYBh"}},124:function(e,t,n){e.exports={modal_overlay:"modal-overlay_modal_overlay__zeC8G"}},125:function(e,t,n){e.exports={icon_done:"order-details_icon_done__1TYXN"}},126:function(e,t,n){e.exports={orders_list:"orders_orders_list__1dbWD"}},127:function(e,t,n){e.exports={wrapper:"page-feed-orders_wrapper__N4lH-"}},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},135:function(e,t,n){},15:function(e,t,n){e.exports={content_wrapper:"orders-feed_content_wrapper__KBObg",header:"orders-feed_header__2mijr",order_list:"orders-feed_order_list__18Fqs",info_wrapper:"orders-feed_info_wrapper__1QlPz",info_table:"orders-feed_info_table__31nyI",done:"orders-feed_done__1fKo3",progress:"orders-feed_progress__20Ap0",list:"orders-feed_list__3gxIS",list_item:"orders-feed_list_item__3eXiW",list_item_done:"orders-feed_list_item_done__3ATNt",count:"orders-feed_count__33y6y"}},18:function(e,t,n){e.exports={container:"burger-ingredients_container__2q9mv",scroll_list:"burger-ingredients_scroll_list__Lkp5I",header_tabs:"burger-ingredients_header_tabs__2Ju8I",tabs:"burger-ingredients_tabs__14f4d",sec_items:"burger-ingredients_sec_items__1StiY",items_list:"burger-ingredients_items_list__WVHAt",item:"burger-ingredients_item__3zfub",item_image:"burger-ingredients_item_image__19BTv",item_description:"burger-ingredients_item_description__21kTq"}},21:function(e,t,n){e.exports={header:"orders-card-details_header__2Imd3",card_details_wrapper:"orders-card-details_card_details_wrapper__1GLPr",order_id:"orders-card-details_order_id__13ZHJ",orders_item:"orders-card-details_orders_item__gDrwn",order_info:"orders-card-details_order_info__3Fq-R",status:"orders-card-details_status__3Ky51",done:"orders-card-details_done__4M2DI",ingredients_cost:"orders-card-details_ingredients_cost__1PIJo",ingredients_list:"orders-card-details_ingredients_list__2V9t8",ingredient_wrapper:"orders-card-details_ingredient_wrapper__Kn6D5",img_wrapper:"orders-card-details_img_wrapper__18UgX",img:"orders-card-details_img__17OO_",name:"orders-card-details_name__37_mI",ingredient_cost:"orders-card-details_ingredient_cost__3MqNf",ingredients_footer:"orders-card-details_ingredients_footer__36QUO"}},216:function(e,t,n){"use strict";n.r(t);n(135);var a,r,c,i=n(1),s=n.n(i),o=n(44),d=n.n(o),l=n(40),u=n(8),_=n(12),j=n(41),m=n.n(j),p=n(0),b=function(){return Object(p.jsx)("div",{className:m.a.page404,children:Object(p.jsxs)("div",{className:m.a.container,children:[Object(p.jsxs)("h1",{className:m.a.title,children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430\xa0\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",Object(p.jsx)("span",{className:m.a.num,children:"404"})]}),Object(p.jsx)("p",{className:m.a.text,children:"\u0412\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0437\u0434\u0435\u0441\u044c, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0432\u0432\u0435\u043b\u0438 \u0430\u0434\u0440\u0435\u0441 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443\u0436\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043b\u0438 \u0431\u044b\u043b\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0430 \u043f\u043e \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0430\u0434\u0440\u0435\u0441\u0443"}),Object(p.jsx)(u.b,{to:"/",className:m.a.link,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})]})})},f=n(2),O=n(5),h=n(223),x=function(){return Object(l.b)()},g=l.c;!function(e){e.typeBun="bun",e.typeSauce="sauce",e.typeMain="main",e.typeEmpty="empty"}(a||(a={})),function(e){e.done="\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d",e.pending="\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u044c\u0441\u044f",e.created="\u0421\u043e\u0437\u0434\u0430\u043d",e.cancel="\u041e\u0442\u043c\u0435\u043d\u0435\u043d"}(r||(r={})),function(e){e.burgerIcon="burgerIcon",e.listIcon="listIcon",e.profileIcon="profileIcon"}(c||(c={}));var v=n(224),y=n(227);function N(e){var t=864e5,n=Date.now()-e.getTime();return n<t&&n>0?"C\u0435\u0433\u043e\u0434\u043d\u044f":n<2*t?"\u0412\u0447\u0435\u0440\u0430":(n<4*t?n+" \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434":n+" \u0434\u043d\u0435\u0439 \u043d\u0430\u0437\u0430\u0434",Object(v.a)(e,{locale:y.a,addSuffix:!0}))}var E=n(21),w=n.n(E),S=function(){var e,t=g((function(e){return e.viewedOrder})).data,n=t.createdAt?new Date(t.createdAt):new Date;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("h2",{className:"text text_type_digits-default ".concat(w.a.header),children:["#",t.number]}),Object(p.jsxs)("div",{className:w.a.card_details_wrapper,children:[Object(p.jsxs)("h2",{className:"text text_type_main-medium",children:[t.name,"aa"]}),Object(p.jsx)("p",{className:"text text_type_main-default ".concat(w.a.status," ").concat("done"===t.status?w.a.done:""),children:r[t.status]}),Object(p.jsx)("h2",{className:"text text_type_main-medium",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(p.jsx)("div",{className:w.a.ingredients_list,children:null===(e=t.groupedIngredients)||void 0===e?void 0:e.map((function(e,n){return Object(p.jsxs)("div",{className:w.a.ingredient_wrapper,children:[Object(p.jsx)("div",{className:w.a.img_wrapper,style:{zIndex:t.groupedIngredients.length-n},children:Object(p.jsx)("div",{className:w.a.img,children:Object(p.jsx)("img",{src:e.image_mobile,width:"64",alt:e.name})})}),Object(p.jsx)("p",{className:"text text_type_main-default ".concat(w.a.name),children:e.name}),Object(p.jsxs)("div",{className:w.a.ingredient_cost,children:[Object(p.jsx)("p",{className:"text text_type_digits-default",children:"".concat(e.count,"x").concat(e.price)}),Object(p.jsx)(O.CurrencyIcon,{type:"primary"})]})]},n)}))}),Object(p.jsxs)("div",{className:w.a.ingredients_footer,children:[Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"".concat(N(n),", ").concat(Object(h.a)(n,"HH:mm 'i-'z"))}),Object(p.jsxs)("div",{className:w.a.ingredient_cost,children:[Object(p.jsx)("p",{className:"text text_type_digits-default",children:t.orderTotalPrice}),Object(p.jsx)(O.CurrencyIcon,{type:"primary"})]})]})]})]})},T="ADD_CONSTRUCTOR_INGREDIENT",k="DELETE_CONSTRUCTOR_INGREDIENT",I="RESET_CONSTRUCTOR",C="GET_CONSTRUCTOR_INGREDIENT",R="SWAP_CONSTRUCTOR_INGREDIENT",D="GET_INGREDIENTS_REQUEST",F="GET_INGREDIENTS_SUCCESS",A="GET_INGREDIENTS_FAILED",G="GET_ORDER_REQUEST",P="GET_ORDER_SUCCESS",z="GET_ORDER_FAILED",M="SET_ORDER_ERROR",U="GET_AUTH_REQUEST",L="GET_AUTH_SUCCESS",W="GET_AUTH_FAILED",J="SET_AUTH_ERROR",B="GET_REGISTER_REQUEST",H="GET_REGISTER_SUCCESS",V="GET_REGISTER_FAILED",X="SET_REGISTER_ERROR",Q="GET_PROFILE_REQUEST",q="GET_PROFILE_SUCCESS",Y="GET_PROFILE_FAILED",K="SET_PROFILE_ERROR",Z="SET_PROFILE_CLEAR",$="SET_VIEW_ITEM",ee="RESET_VIEW_ITEM",te="SET_VIEW_ORDER",ne="RESET_VIEW_ORDER",ae="GET_VIEW_ORDER_REQUEST",re="GET_VIEW_ORDER_SUCCESS",ce="GET_VIEW_ORDER_FAILED",ie="SET_VIEW_ORDER_ERROR",se="WS_CONNECTION_START",oe="WS_CONNECTION_STOP",de="WS_CONNECTION_SUCCESS",le="WS_CONNECTION_ERROR",ue="WS_CONNECTION_CLOSED",_e="WS_GET_MESSAGE",je="WS_SIGN_CONNECTION_START",me="WS_SIGN_CONNECTION_STOP",pe="WS_SIGN_CONNECTION_SUCCESS",be="WS_SIGN_CONNECTION_ERROR",fe="WS_SIGN_CONNECTION_CLOSED",Oe="WS_SIGN_GET_MESSAGE",he=function(e){return{type:T,payload:e}},xe=n(11),ge=n.n(xe),ve=n(27),ye="accessToken",Ne="refreshToken",Ee="https://norma.nomoreparties.space/api",we="\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b",Se="\u0411\u0435\u043b\u043a\u0438, \u0433",Te="\u0416\u0438\u0440\u044b, \u0433",ke="\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433",Ie="\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",Ce="\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u043a\u0430\u0437\u043e\u0432",Re="fillers",De={email:"",password:""},Fe={name:"",email:"",password:""},Ae={password:"",token:""},Ge={email:""},Pe={name:"",email:"",password:""},ze={post:{"Content-Type":"application/json"},get:{}},Me=function(){var e=Object(ve.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ee,"/ingredients"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(ve.a)(ge.a.mark((function e(t,n){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ee,"/orders"),{method:"POST",headers:Object(f.a)(Object(f.a)({},ze.post),{},{authorization:"Bearer ".concat(n)}),body:JSON.stringify({ingredients:t})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Le=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ee,"/auth/register"),{method:"POST",headers:ze.post,body:JSON.stringify(Object(f.a)({},t))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ee,"/auth/login"),{method:"POST",headers:ze.post,body:JSON.stringify(Object(f.a)({},t))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ee,"/auth/logout"),{method:"POST",headers:ze.post,body:JSON.stringify({token:t})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(ve.a)(ge.a.mark((function e(t,n){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ee,"/auth/user"),{method:"PATCH",headers:Object(f.a)(Object(f.a)({},ze.post),{},{authorization:"Bearer ".concat(n)}),body:JSON.stringify(Object(f.a)({},t))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ee,"/auth/user"),{method:"GET",headers:Object(f.a)(Object(f.a)({},ze.get),{},{authorization:"Bearer ".concat(t)})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ee,"/password-reset"),{method:"POST",headers:Object(f.a)({},ze.post),body:JSON.stringify(Object(f.a)({},t))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ee,"/password-reset/reset"),{method:"POST",headers:Object(f.a)({},ze.post),body:JSON.stringify(Object(f.a)({},t))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ee,"/orders/").concat(t),{method:"GET",headers:Object(f.a)({},ze.get)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=n.p+"static/media/icon-burger.19283f87.svg",Ye=[{_id:"60666c42cc7b410027a1a9b2",name:"\u0421\u043e\u0431\u0435\u0440\u0438 \u0437\u0434\u0435\u0441\u044c \u0441\u0432\u043e\u0439 \u0431\u0443\u0440\u0433\u0435\u0440",type:"empty",proteins:0,fat:0,carbohydrates:0,calories:0,price:0,image:qe,image_mobile:qe,image_large:qe,__v:0}],Ke=function(){return function(e){e({type:D}),Me().then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(t){var n;e((n=t.data,{type:F,payload:n})),e(he(Ye.find((function(e){return"empty"===e.type}))))})).catch((function(t){console.log(t),e({type:A})}))}},Ze=n(72),$e=n.n(Ze),et=function(e){var t=e.accessToken,n=e.refreshToken,a=t.includes("Bearer")?t.split(" ")[1]:t;$e.a.set(ye,a),localStorage.setItem(Ne,n)},tt=function(){return $e.a.get(ye)},nt=function(e){return function(t){t({type:G});var n=tt();Ue(e,n).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(e){t(function(e){return{type:P,payload:e}}(e.order)),t({type:I}),t(he(Ye.find((function(e){return"empty"===e.type}))))})).catch((function(){t({type:z})}))}},at=function(){return{type:U}},rt=function(){return{type:W}},ct=function(){return{type:Q}},it=function(e){return{type:q,payload:e}},st=function(){return{type:Y}},ot=function(e){return function(t){t({type:B}),Le(e).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(e){et({accessToken:e.accessToken,refreshToken:e.refreshToken}),t(function(e){return{type:H,payload:e}}(e.user))})).catch((function(){t({type:V})}))}},dt=function(e){return function(t){t(at()),We(e).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(e){et({accessToken:e.accessToken,refreshToken:e.refreshToken}),t(function(e){return{type:L,payload:e}}(e.user))})).catch((function(){t(rt())}))}},lt=function(e){return function(t){t(at()),Je(e).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(){$e.a.remove(ye),localStorage.removeItem(Ne),t({type:Z})})).catch((function(){t(rt())}))}},ut=function(){return function(e){e(ct());var t=tt();He(t).then((function(e){return e.json()})).then((function(t){if(!t.success)throw t;e(it(t.user))})).catch((function(t){"jwt expired"===t.message&&e(st())}))}},_t=function(e){return{type:te,payload:e}},jt=function(e){return function(t){t({type:ae}),Qe(e).then((function(e){return e.json()})).then((function(e){if(!e.success)throw e;var n;t((n=e.orders[0],{type:re,payload:n}))})).catch((function(){t({type:ce})}))}},mt=n(53),pt=n.n(mt),bt=function(){var e=Object(_.i)(),t=e.id,n=e.number,a=x(),r=g((function(e){return e.ingredients})).data,c=g((function(e){return e.viewedOrder})),s=c.isLoaded,o=c.isFetching,d=c.data;Object(i.useEffect)((function(){a(jt(n))}),[a]);var l=Object(i.useMemo)((function(){var e;return null===d||void 0===d||null===(e=d.ingredients)||void 0===e?void 0:e.map((function(e){return r.find((function(t){return t._id===e}))}))}),[d,r]),u=Object(i.useMemo)((function(){var e=[];return(null===l||void 0===l?void 0:l.length)&&l.forEach((function(t){if(!e.find((function(e){return e._id===(null===t||void 0===t?void 0:t._id)}))){var n,a=(null===(n=d.ingredients)||void 0===n?void 0:n.filter((function(e){return e===(null===t||void 0===t?void 0:t._id)})).length)||0;e.push(Object(f.a)(Object(f.a)({},t),{},{count:a}))}})),e}),[d,l]),j=Object(i.useMemo)((function(){return u.reduce((function(e,t){return e+t.price*t.count}),0)}),[u]);return!s&&(null===d||void 0===d?void 0:d._id)===t&&j&&a(_t(Object(f.a)(Object(f.a)({},d),{},{groupedIngredients:u,ingredientsWDetails:l,orderTotalPrice:j}))),o?Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8 ".concat(pt.a.wrapper),children:"\u0421\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u043c\u0441\u044f \u0441 \u043a\u0443\u0445\u043d\u0435\u0439, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."}):s&&!d?Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8 ".concat(pt.a.wrapper),children:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043e \u0437\u0430\u043a\u0430\u0437\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442. \u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."}):(null===d||void 0===d?void 0:d._id)===t&&j?Object(p.jsx)("div",{className:"".concat(pt.a.wrapper),children:Object(p.jsx)(S,{})}):Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8 ".concat(pt.a.wrapper),children:"\u0418\u0449\u0435\u043c \u0437\u0430\u043a\u0430\u0437, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."})},ft={left:[{id:"1",name:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",href:"/",icon:c.burgerIcon,exact:!0},{id:"2",name:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",href:"/feed",icon:c.listIcon,exact:!1}],right:[{id:"1",name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",href:"/profile",icon:c.profileIcon,exact:!1}]},Ot=n(54),ht=n.n(Ot),xt=n(92),gt=n.n(xt),vt={burgerIcon:O.BurgerIcon,listIcon:O.ListIcon,profileIcon:O.ProfileIcon},yt=function(e){var t=e.item,n=g((function(e){return e.sign})),a=n.isAuthorized,r=n.user,i=vt[t.icon];return Object(p.jsx)("li",{children:Object(p.jsxs)(u.c,{to:t.href,className:"".concat(gt.a.menu_link," pr-5 pl-5"),activeClassName:gt.a.menu_link_active,exact:t.exact,children:[Object(p.jsx)(i,{type:"secondary"}),Object(p.jsx)("span",{className:"text text_type_main-default pl-2",children:a&&t.icon===c.profileIcon?r.email:t.name})]})})},Nt=function(){return Object(p.jsxs)("div",{className:"".concat(ht.a.container," pt-4 pb-4 p"),children:[Object(p.jsx)("nav",{children:Object(p.jsx)("ul",{className:ht.a.menu,children:ft.left.map((function(e){return Object(p.jsx)(yt,{item:e},e.id)}))})}),Object(p.jsx)(u.c,{to:"/",title:"Stellar burgers",className:ht.a.logo,children:Object(p.jsx)(O.Logo,{})}),Object(p.jsx)("nav",{children:Object(p.jsx)("ul",{className:ht.a.menu_right,children:ft.right.map((function(e){return Object(p.jsx)(yt,{item:e},e.id)}))})})]})},Et=n(9),wt=n(31),St=n(225),Tt=n(121),kt=n.n(Tt),It=function(e){var t=e.itemData,n=e.type,a=e.isLocked;return Object(p.jsx)("li",{className:"".concat(kt.a.item," mb-4 pl-8 pr-4'}"),children:Object(p.jsx)(O.ConstructorElement,{text:"".concat(t.name," ").concat("top"===n?"(\u0432\u0435\u0440\u0445)":""," ").concat("bottom"===n?"(\u043d\u0438\u0437)":""," "),thumbnail:t.image_mobile,price:t.price,type:n,isLocked:a})})},Ct=n(226),Rt=n(93),Dt=n.n(Rt),Ft={cursor:"move"},At=function(e){var t=e.itemData,n=e.index,a=e.isLocked,r=e.type,c=e.moveElem,s=e.id,o=x(),d=Object(i.useRef)(null),l=Object(St.a)({accept:Re,collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var a;if(d.current){var r=e.index,i=n;if(r!==i){var s=null===(a=d.current)||void 0===a?void 0:a.getBoundingClientRect(),o=(s.bottom-s.top)/2,l=t.getClientOffset().y-s.top;r<i&&l<o||r>i&&l>o||(c(r,i),e.index=i)}}}}),u=Object(Et.a)(l,2),_=u[0].handlerId,j=u[1],m=Object(Ct.a)({type:Re,item:function(){return{id:s,index:n}},collect:function(e){return{isDragging:e.isDragging()}}});return(0,Object(Et.a)(m,2)[1])(j(d)),Object(p.jsxs)("li",{className:"".concat(Dt.a.item," pb-4 ").concat(a?"pl-8 pr-4":"pr-2"),ref:d,style:Object(f.a)(Object(f.a)({},Ft),{},{opacity:1}),"data-handler-id":_,children:[!a&&Object(p.jsx)("span",{className:Dt.a.drag_icon,children:Object(p.jsx)(O.DragIcon,{type:"secondary"})}),Object(p.jsx)(O.ConstructorElement,{text:"".concat(t.name," ").concat("top"===r?"(\u0432\u0435\u0440\u0445)":""," ").concat("bottom"===r?"(\u043d\u0438\u0437)":""," "),thumbnail:t.image_mobile,price:t.price,isLocked:a,type:r,handleClose:function(){return o({type:k,payload:n})}})]})},Gt=n(55),Pt=n.n(Gt),zt=function(e){var t=e.openModal,n=x(),a=g((function(e){return e.cart})),r=Object(wt.a)(a.data),c=Object(St.a)({accept:"ingredient",drop:function(e){return n(he(e))}}),s=Object(Et.a)(c,2)[1],o=Object.keys(a.sortedData.bun).length>0?[a.sortedData.bun]:[a.sortedData.empty],d=r&&Array.isArray(r)&&a.sortedData.fillers,l=Object(i.useMemo)((function(){return Array.isArray(r)&&[].concat(o,Object(wt.a)(d),o).reduce((function(e,t){return e+t.price}),0)}),[o,d]),u=function(e,t){return n(function(e,t){return{type:R,payload:{dragIndex:e,hoverIndex:t}}}(e,t))};return Object(p.jsxs)("section",{className:"".concat(Pt.a.container," pt-25"),ref:s,children:[Object(p.jsxs)("ul",{className:Pt.a.item_list,children:[o&&Array.isArray(o)&&o.map((function(e){return Object(p.jsx)(It,{itemData:e,type:"top",isLocked:!0},e._id)})),Object(p.jsx)("li",{className:"mb-4",children:Object(p.jsx)("ul",{className:Pt.a.scroll_list,children:d&&Array.isArray(d)&&d.map((function(e,t){return n=e,a=t,Object(p.jsx)(At,{itemData:n,handlerId:a,moveElem:u,index:a,id:n._id},a);var n,a}))})},"middle"),o&&Array.isArray(o)&&o.map((function(e){return Object(p.jsx)(It,{itemData:e,type:"bottom",isLocked:!0},e._id)}))]}),Object(p.jsxs)("div",{className:"".concat(Pt.a.checkout_container," pr-8"),children:[Object(p.jsxs)("div",{className:"mr-10",children:[Object(p.jsx)("span",{className:"text text_type_digits-medium mr-2",children:l}),Object(p.jsx)(O.CurrencyIcon,{type:"primary"})]}),Object(p.jsx)(O.Button,{type:"primary",size:"large",onClick:t,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},Mt=n(73),Ut=n(56),Lt=n.n(Ut),Wt={cursor:"move"},Jt=function(e){var t=e.itemData,n=e.itemCounter,a=e.onItemClick,r=Object(_.g)(),c=Object(Ct.a)({type:"ingredient",item:t,collect:function(e){return{isDragging:e.isDragging()}}}),i=Object(Et.a)(c,2),s=i[0].isDragging,o=i[1];var d=s?.2:1;return Object(p.jsxs)("li",{className:Lt.a.item,"aria-hidden":"true",role:"presentation",onClick:function(){a(),r.replace("/ingredients/".concat(t._id),{background:!0})},ref:o,style:Object(f.a)(Object(f.a)({},Wt),{},{opacity:d}),children:[n&&n>0?Object(p.jsx)(O.Counter,{count:n,size:"default"}):null,Object(p.jsx)("img",{src:t.image,className:"".concat(Lt.a.item_image),alt:t.name}),Object(p.jsxs)("p",{className:"text text_type_digits-default ".concat(Lt.a.item_description," mt-1 mb-1"),children:[Object(p.jsx)("span",{className:"mr-2",children:t.price}),Object(p.jsx)(O.CurrencyIcon,{type:"secondary"})]}),Object(p.jsx)("h3",{className:"text text_type_main-default ".concat(Lt.a.item_name),children:t.name})]})},Bt=n(18),Ht=n.n(Bt),Vt=function(e){var t=e.openModal,n=Object(i.useState)("buns"),r=Object(Et.a)(n,2),c=r[0],s=r[1],o=g((function(e){return{cart:e.cart,ingredients:e.ingredients}})),d=o.cart,l=o.ingredients,u=Object(wt.a)(l.data),_=Object(Mt.a)({threshold:0}),j=Object(Et.a)(_,2),m=j[0],b=j[1],f=Object(Mt.a)({threshold:0}),h=Object(Et.a)(f,2),x=h[0],v=h[1],y=Object(Mt.a)({threshold:0}),N=Object(Et.a)(y,2),E=N[0],w=N[1];Object(i.useEffect)((function(){b?s("buns"):w?s("sauces"):v&&s("mains")}),[b,v,w]);var S=function(e){s(e);var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},T=u&&Array.isArray(u)&&u.filter((function(e){return e.type===a.typeBun})),k=u&&Array.isArray(u)&&u.filter((function(e){return e.type===a.typeSauce})),I=u&&Array.isArray(u)&&u.filter((function(e){return e.type===a.typeMain})),C=function(e){var t;return d.sortedData&&(null===(t=d.sortedData.fillers)||void 0===t?void 0:t.filter((function(t){return t._id===e})).length)},R=function(e){var t;return d.sortedData&&(null===(t=d.sortedData.bun)||void 0===t?void 0:t._id)===e};return Object(p.jsxs)("section",{className:"".concat(Ht.a.container),children:[Object(p.jsxs)("div",{className:Ht.a.header_tabs,children:[Object(p.jsx)("h2",{className:"text text_type_main-large mt-10 mb-5 ",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(p.jsxs)("div",{className:"".concat(Ht.a.tabs),children:[Object(p.jsx)(O.Tab,{value:"buns",active:"buns"===c,onClick:S,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(p.jsx)(O.Tab,{value:"sauces",active:"sauces"===c,onClick:S,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(p.jsx)(O.Tab,{value:"mains",active:"mains"===c,onClick:S,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]})]}),Object(p.jsxs)("div",{className:"".concat(Ht.a.scroll_list," pr-4"),children:[Object(p.jsxs)("section",{className:Ht.a.sec_items,id:"buns",ref:m,children:[Object(p.jsx)("h2",{className:"text text_type_main-medium ".concat(Ht.a.sec_title),children:"\u0411\u0443\u043b\u043a\u0438"}),Object(p.jsx)("ul",{className:"".concat(Ht.a.items_list),children:T&&Array.isArray(T)&&T.map((function(e){return Object(p.jsx)(Jt,{itemData:e,onItemClick:t,itemCounter:R(e._id)?2:0},e._id)}))})]}),Object(p.jsxs)("section",{className:Ht.a.sec_items,id:"sauces",ref:E,children:[Object(p.jsx)("h2",{className:"text text_type_main-medium ".concat(Ht.a.sec_title),children:"\u0421\u043e\u0443\u0441\u044b"}),Object(p.jsx)("ul",{className:"".concat(Ht.a.items_list),children:k&&Array.isArray(k)&&k.map((function(e){return Object(p.jsx)(Jt,{itemData:e,onItemClick:t,itemCounter:C(e._id)},e._id)}))})]}),Object(p.jsxs)("section",{className:Ht.a.sec_items,id:"mains",ref:x,children:[Object(p.jsx)("h2",{className:"text text_type_main-medium ".concat(Ht.a.sec_title),children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(p.jsx)("ul",{className:"".concat(Ht.a.items_list),children:I&&Array.isArray(I)&&I.map((function(e){return Object(p.jsx)(Jt,{itemData:e,onItemClick:t,itemCounter:C(e._id)},e._id)}))})]})]})]})},Xt=n(95),Qt=n.n(Xt),qt=n(123),Yt=n.n(qt),Kt=function(e){var t=e.title,n=e.value;return Object(p.jsxs)("li",{className:Yt.a.details_list_item,children:[Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:t}),Object(p.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:n})]})},Zt=function(){var e=Object(_.i)().id,t=x(),n=g((function(e){return e.ingredients}));Object(i.useEffect)((function(){var a,r=null===(a=n.data)||void 0===a?void 0:a.find((function(t){return t._id===e}));r&&t({type:$,payload:r})}),[e,n.data]);var a=g((function(e){return e.viewedItem.data}));return a._id?Object(p.jsxs)("div",{className:Qt.a.container,children:[Object(p.jsx)("img",{src:a.image_large,alt:a.name,title:a.name}),Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:a.name}),Object(p.jsxs)("ul",{className:"".concat(Qt.a.details_list," mb-15"),children:[Object(p.jsx)(Kt,{title:we,value:a.calories}),Object(p.jsx)(Kt,{title:Se,value:a.proteins}),Object(p.jsx)(Kt,{title:Te,value:a.fat}),Object(p.jsx)(Kt,{title:ke,value:a.carbohydrates})]})]}):Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})},$t=n(124),en=n.n($t),tn=function(e){var t=e.closeModal;return Object(p.jsx)("div",{"aria-hidden":"true",role:"presentation",className:en.a.modal_overlay,onClick:t})},nn=n(96),an=n.n(nn),rn=function(e){var t=e.children,n=e.closeModal,a=e.modalTitle,r=function(e){"Escape"===e.key&&n(),e.stopImmediatePropagation()};Object(i.useEffect)((function(){return document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)}}),[]);var c=document.querySelector("#app-modals");return d.a.createPortal(Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(tn,{closeModal:n}),Object(p.jsxs)("section",{className:an.a.modal,children:[Object(p.jsxs)("div",{className:"".concat(an.a.header," pr-10 pt-10 pl-10"),children:[Object(p.jsx)("h2",{className:"text text_type_main-large ",children:a}),Object(p.jsx)(O.CloseIcon,{type:"primary",onClick:n})]}),t]})]}),c)},cn=n.p+"static/media/order-done.85c3a14d.svg",sn=n.p+"static/media/spin-white.14e453b1.svg",on=n(125),dn=n.n(on);var ln=function(){var e,t,n=g((function(e){return e.order}));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"text text_type_digits-large mt-30",children:(e=n.numberOrd,t=7,e.toString().padStart(t,"0"))}),Object(p.jsx)("p",{className:"text text_type_main-medium mt-8",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(p.jsx)("img",{className:"mt-15 ".concat(dn.a.icon_done),src:n.isFetching?sn:cn,alt:"\u0417\u0430\u043a\u0430\u0437 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}),Object(p.jsx)("p",{className:"text text_type_main-default mt-15",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-2 mb-30",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},un=n.p+"static/media/icon-info.32ad1fe4.svg";var _n,jn=function(){var e,t,n=g((function(e){return e.order}));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"text text_type_digits-large mt-30",children:(e=0,t=7,e.toString().padStart(t,"0"))}),Object(p.jsx)("p",{className:"text text_type_main-medium mt-8",children:"\u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}),Object(p.jsx)("p",{className:"text text_type_main-medium mt-8",children:n.error}),Object(p.jsx)("img",{className:"mt-15",src:un,alt:"\u0417\u0430\u043a\u0430\u0437 \u043d\u0435 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}),Object(p.jsx)("p",{className:"text text_type_main-default mt-15",children:"\u041c\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0437\u0430\u043a\u0430\u0437"}),Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-2 mb-30",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440 \u0438 \u043c\u044b \u0435\u0433\u043e \u0432\u0430\u043c \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u0438\u043c"})]})},mn=n(29),pn=n.n(mn),bn=function(e){var t=e.order,n=x(),a=Object(_.g)(),c=g((function(e){return e.wsSign})).wsConnected,s=g((function(e){return e.ingredients})).data,o=Object(i.useMemo)((function(){var e;return null===(e=t.ingredients)||void 0===e?void 0:e.map((function(e){return s.find((function(t){return t._id===e}))}))}),[t,s]),d=Object(i.useMemo)((function(){var e=[];return null===o||void 0===o||o.forEach((function(n){if(!e.find((function(e){return e._id===(null===n||void 0===n?void 0:n._id)}))){var a=(null===t||void 0===t?void 0:t.ingredients.filter((function(e){return e===(null===n||void 0===n?void 0:n._id)})).length)||1;e.push(Object(f.a)(Object(f.a)({},n),{},{count:a}))}})),e}),[t,o]),l=Object(i.useMemo)((function(){return d.reduce((function(e,t){return e+t.price*t.count}),0)}),[d]),u=new Date(t.createdAt);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:pn.a.order_item,"aria-hidden":"true",role:"presentation",onClick:function(){n(_t(Object(f.a)(Object(f.a)({},t),{},{groupedIngredients:d,ingredientsWDetails:o,orderTotalPrice:l}))),a.replace("".concat(c?"/profile/orders":"/feed","/").concat(t._id,"/").concat(t.number),{background:!0})},children:[Object(p.jsxs)("div",{className:pn.a.order_info,children:[Object(p.jsxs)("p",{className:"text text_type_digits-default ".concat(pn.a.order_number),children:["#",t.number]}),Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"".concat(N(u),", ").concat(Object(h.a)(u,"HH:mm 'i-'z"))})]}),Object(p.jsx)("h2",{className:"text text_type_main-medium",children:t.name}),c&&Object(p.jsx)("p",{className:"text text_type_main-default ".concat("done"===t.status?pn.a.done:""),children:r[t.status]}),Object(p.jsxs)("div",{className:pn.a.ingredients_info,children:[Object(p.jsx)("div",{className:pn.a.ingredients_list,children:d.map((function(e,t){return Object(p.jsx)("div",{className:pn.a.ingredient_wrapper,style:{zIndex:d.length-t},children:Object(p.jsxs)("div",{className:pn.a.ingredient,children:[Object(p.jsx)("img",{src:e.image_mobile,width:"64",alt:e.name}),e.count>1&&Object(p.jsx)("div",{className:pn.a.count_wrapper,children:Object(p.jsx)("p",{className:"text text_type_main-default",children:"+".concat(e.count-1)})})]})},t)}))}),Object(p.jsxs)("div",{className:pn.a.ingredients_price,children:[Object(p.jsx)("p",{className:"text text_type_digits-default",children:l}),Object(p.jsx)(O.CurrencyIcon,{type:"primary"})]})]})]})})},fn=n(126),On=n.n(fn),hn=function(){var e=x(),t=g((function(e){return e.wsSign})),n=t.wsConnected,a=t.data.orders;return Object(i.useEffect)((function(){return e({type:je}),function(){e({type:me})}}),[e]),n?(null===a||void 0===a?void 0:a.length)?Object(p.jsx)("div",{className:On.a.orders_list,children:null===a||void 0===a?void 0:a.slice(0).reverse().map((function(e){var t;return(null===(t=e.ingredients)||void 0===t?void 0:t.length)&&Object(p.jsx)(bn,{order:e},e._id)}))}):Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:"\u0412\u0430\u0448\u0438\u0445 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442..."}):Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:"\u0421\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u043c\u0441\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."})},xn=n(71),gn=["children"],vn=function(e){var t=e.children,n=Object(xn.a)(e,gn),a=g((function(e){return e.sign})).isAuthorized;return Object(p.jsx)(_.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(p.jsx)(_.a,{to:{pathname:"/login",state:{from:n}}})}}))},yn=n(23),Nn=n(32),En=n.n(Nn),wn=function(){var e=x(),t=Object(_.g)(),n=Object(i.useState)(Ge),a=Object(Et.a)(n,2),r=a[0],c=a[1];return Object(p.jsxs)("div",{className:En.a.login,children:[Object(p.jsx)("h3",{className:"".concat(En.a.title," text text_type_main-medium"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(p.jsx)("form",{className:En.a.form,onSubmit:function(n){e(function(e,t){return function(){Ve(e).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(e){t.push({pathname:"/reset-password",state:{resetPassword:!0}})})).catch((function(e){console.log(e)}))}}(r,t)),n.preventDefault(),c(Ge)},noValidate:!0,children:Object(p.jsxs)("div",{className:En.a.input_container,children:[Object(p.jsx)(O.Input,{onChange:function(e){var t=e.target,n=t.name,a=t.type,r=t.checked,i="checkbox"===a?r:e.target.value;c((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(yn.a)({},n,i))}))},value:r.email,name:"email",size:"default",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail"}),Object(p.jsx)("div",{className:En.a.button_container,children:Object(p.jsx)(O.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]})}),Object(p.jsxs)("div",{className:En.a.link_container,children:[Object(p.jsx)("p",{className:"".concat(En.a.text," text text_type_main-default text_color_inactive"),children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(p.jsx)(u.b,{to:"/login",className:"".concat(En.a.link," text text_type_main-default"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},Sn=n(28),Tn=n.n(Sn),kn=function(){var e=x(),t=Object(i.useState)(De),n=Object(Et.a)(t,2),a=n[0],r=n[1],c=function(e){var t=e.target,n=t.name,a=t.type,c=t.checked,i="checkbox"===a?c:e.target.value;r((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(yn.a)({},n,i))}))};return Object(p.jsxs)("div",{className:Tn.a.login,children:[Object(p.jsx)("h3",{className:"".concat(Tn.a.title," text text_type_main-medium"),children:"\u0412\u0445\u043e\u0434"}),Object(p.jsx)("form",{className:Tn.a.form,onSubmit:function(t){e(dt(a)),t.preventDefault(),r(De)},children:Object(p.jsxs)("div",{className:Tn.a.input_container,children:[Object(p.jsx)(O.Input,{onChange:c,value:a.email,name:"email",size:"default",placeholder:"E-mail"}),Object(p.jsx)(O.PasswordInput,{onChange:c,value:a.password,name:"password",size:"default"}),Object(p.jsx)("div",{className:Tn.a.button_container,children:Object(p.jsx)(O.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]})}),Object(p.jsxs)("div",{className:Tn.a.link_container,children:[Object(p.jsx)("p",{className:"".concat(Tn.a.text," text text_type_main-default text_color_inactive"),children:"\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(p.jsx)(u.b,{to:"/register",className:"".concat(Tn.a.link," text text_type_main-default"),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(p.jsxs)("div",{className:Tn.a.link_container,children:[Object(p.jsx)("p",{className:"".concat(Tn.a.text," text text_type_main-default text_color_inactive"),children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(p.jsx)(u.b,{to:"/forgot-password",className:"".concat(Tn.a.link," text text_type_main-default"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},In=n(97),Cn=n.n(In),Rn=function(){var e=x(),t=Object(i.useState)(Pe),n=Object(Et.a)(t,2),a=n[0],r=n[1],c=g((function(e){return e.sign})),s=c.isAuthorized,o=c.user,d=c.lastUpdated,l=c.isFetching;Object(i.useEffect)((function(){r((function(e){return Object(f.a)(Object(f.a)({},e),o)}))}),[s,d]);var u=function(e){var t=e.target,n=t.name,a=t.type,c=t.checked,i="checkbox"===a?c:e.target.value;r((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(yn.a)({},n,i))}))};return Object(p.jsxs)("form",{className:Cn.a.form,onSubmit:function(t){var n;e((n=a,function(e){e(ct());var t=tt();Be(n,t).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(t){if(!t.success)throw t;e(it(t.user))})).catch((function(t){console.log(t),"jwt expired"===t.message&&e(st())}))})),t.preventDefault()},children:[Object(p.jsx)(O.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:u,value:a.name,icon:"EditIcon",name:"name",size:"default"}),Object(p.jsx)(O.EmailInput,{onChange:u,value:a.email,name:"email"}),Object(p.jsx)(O.PasswordInput,{onChange:u,value:a.password,name:"password"}),Object(p.jsx)("div",{className:Cn.a.button_container,children:Object(p.jsx)(O.Button,{type:"primary",size:"medium",children:l?"\u0418\u0434\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})},Dn=n(38),Fn=n.n(Dn),An=function(){return Object(p.jsxs)("nav",{className:Fn.a.nav__list,children:[Object(p.jsx)(u.c,{to:"/profile",exact:!0,className:"".concat(Fn.a.menu_link," text text_type_main-medium "),activeClassName:Fn.a.menu_link_active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(p.jsx)(u.c,{to:"/profile/orders",className:"".concat(Fn.a.menu_link," text text_type_main-medium "),activeClassName:Fn.a.menu_link_active,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(p.jsx)(u.c,{to:"/profile/logout",className:"".concat(Fn.a.menu_link," text text_type_main-medium "),activeClassName:Fn.a.menu_link_active,children:"\u0412\u044b\u0445\u043e\u0434"})]})},Gn=n(33),Pn=n.n(Gn),zn=function(){var e=x(),t=Object(i.useState)(Fe),n=Object(Et.a)(t,2),a=n[0],r=n[1],c=function(e){var t=e.target,n=t.name,a=t.type,c=t.checked,i="checkbox"===a?c:e.target.value;r((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(yn.a)({},n,i))}))};return Object(p.jsxs)("div",{className:Pn.a.login,children:[Object(p.jsx)("h3",{className:"".concat(Pn.a.title," text text_type_main-medium"),children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(p.jsx)("form",{className:Pn.a.form,onSubmit:function(t){e(ot(a)),t.preventDefault(),r(Fe)},children:Object(p.jsxs)("div",{className:Pn.a.input_container,children:[Object(p.jsx)(O.Input,{onChange:c,value:a.name,name:"name",size:"default",placeholder:"\u0418\u043c\u044f"}),Object(p.jsx)(O.Input,{onChange:c,value:a.email,name:"email",size:"default",placeholder:"E-mail"}),Object(p.jsx)(O.PasswordInput,{onChange:c,value:a.password,name:"password",size:"default"}),Object(p.jsx)("div",{className:Pn.a.button_container,children:Object(p.jsx)(O.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})}),Object(p.jsxs)("div",{className:Pn.a.link_container,children:[Object(p.jsx)("p",{className:"".concat(Pn.a.text," text text_type_main-default text_color_inactive"),children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(p.jsx)(u.b,{to:"/login",className:"".concat(Pn.a.link," text text_type_main-default"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},Mn=n(34),Un=n.n(Mn),Ln=function(){var e,t=Object(l.b)(),n=Object(_.g)(),a=Object(_.h)(),r=Object(i.useState)(Ae),c=Object(Et.a)(r,2),s=c[0],o=c[1],d=function(e){var t=e.target,n=t.name,a=t.type,r=t.checked,c="checkbox"===a?r:e.target.value;o((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(yn.a)({},n,c))}))};return"PUSH"===n.action&&(null===(e=a.state)||void 0===e?void 0:e.resetPassword)?Object(p.jsxs)("div",{className:Un.a.login,children:[Object(p.jsx)("h3",{className:"".concat(Un.a.title," text text_type_main-medium"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(p.jsx)("form",{className:Un.a.form,onSubmit:function(e){t(function(e,t){return function(){Xe(e).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(e){return t.push({pathname:"/login",state:{resetPassword:!0}})})).catch((function(e){console.log(e)}))}}(s,n)),e.preventDefault(),o(Ae)},children:Object(p.jsxs)("div",{className:Un.a.input_container,children:[Object(p.jsx)(O.PasswordInput,{onChange:d,value:s.password,name:"password",size:"default"}),Object(p.jsx)(O.Input,{onChange:d,value:s.token,name:"token",size:"default",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430"}),Object(p.jsx)("div",{className:Un.a.button_container,children:Object(p.jsx)(O.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]})}),Object(p.jsxs)("div",{className:Un.a.link_container,children:[Object(p.jsx)("p",{className:"".concat(Un.a.text," text text_type_main-default text_color_inactive"),children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(p.jsx)(u.b,{to:"/login",className:"".concat(Un.a.link," text text_type_main-default"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(p.jsx)(_.a,{to:"/login"})},Wn=["children"],Jn=function(e){var t=e.children,n=Object(xn.a)(e,Wn),a=g((function(e){return e.sign})).isAuthorized,r=Object(_.h)();return Object(p.jsx)(_.b,Object(f.a)(Object(f.a)({},n),{},{render:function(){var e,n;return a?Object(p.jsx)(_.a,{to:{pathname:(null===(e=r.state)||void 0===e?void 0:e.from)?null===(n=r.state)||void 0===n?void 0:n.from.pathname:"/"}}):t}}))},Bn=n(15),Hn=n.n(Bn),Vn=function(){var e=x(),t=g((function(e){return e.wsAll})),n=t.data,a=t.wsConnected;Object(i.useEffect)((function(){return e({type:se}),function(){e({type:oe})}}),[e]);var r=n.orders,c=n.total,s=n.totalToday,o=Object(i.useMemo)((function(){return null===r||void 0===r?void 0:r.filter((function(e){return"done"===e.status}))}),[r]),d=Object(i.useMemo)((function(){return null===r||void 0===r?void 0:r.filter((function(e){return"pending"===e.status}))}),[r]);return a?(null===r||void 0===r?void 0:r.length)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"text text_type_main-large ".concat(Hn.a.header),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(p.jsxs)("div",{className:Hn.a.content_wrapper,children:[Object(p.jsx)("div",{className:Hn.a.order_list,children:r.map((function(e){var t;return(null===(t=e.ingredients)||void 0===t?void 0:t.length)&&Object(p.jsx)(bn,{order:e},e._id)}))}),Object(p.jsxs)("div",{className:Hn.a.info_wrapper,children:[Object(p.jsxs)("div",{className:Hn.a.info_table,children:[Object(p.jsxs)("div",{className:Hn.a.done,children:[Object(p.jsx)("h2",{className:"text text_type_main-medium",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(p.jsx)("ul",{className:Hn.a.list,children:o.map((function(e){return Object(p.jsx)("li",{className:"text text_type_digits-default ".concat(Hn.a.list_item," ").concat(Hn.a.list_item_done),children:e.number},e._id)}))})]}),Object(p.jsxs)("div",{className:Hn.a.progress,children:[Object(p.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(p.jsx)("ul",{className:Hn.a.list,children:d.map((function(e){return Object(p.jsx)("li",{className:"text text_type_digits-default ".concat(Hn.a.list_item),children:e.number},e._id)}))})]})]}),Object(p.jsxs)("div",{className:Hn.a.total_count,children:[Object(p.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(p.jsx)("p",{className:"text text_type_digits-large ".concat(Hn.a.count),children:c})]}),Object(p.jsxs)("div",{className:Hn.a.today_count,children:[Object(p.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(p.jsx)("p",{className:"text text_type_digits-large ".concat(Hn.a.count),children:s})]})]})]})]}):Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:"\u041d\u0430 \u043a\u0443\u0445\u043d\u0435 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442..."}):Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:"\u0421\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u043c\u0441\u044f \u0441 \u043a\u0443\u0445\u043d\u0435\u0439, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."})},Xn=n(127),Qn=n.n(Xn),qn=function(){return Object(p.jsx)("div",{className:Qn.a.wrapper,children:Object(p.jsx)(Vn,{})})},Yn=n(128),Kn=n.n(Yn),Zn=function(){return Object(p.jsx)("div",{className:Kn.a.wrapper,children:Object(p.jsx)(kn,{})})},$n=n(222),ea=n(133),ta=n(98),na=n.n(ta),aa=function(){return Object(p.jsxs)("div",{className:na.a.wrapper,children:[Object(p.jsx)("h1",{className:na.a.title,children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(p.jsx)(Zt,{})]})},ra=n(99),ca=n.n(ra),ia=function(){var e=x(),t=g((function(e){return e.ingredients})),n=g((function(e){return e.cart})),a=Object(i.useState)(!1),r=Object(Et.a)(a,2),c=r[0],s=r[1],o=Object(i.useState)(!1),d=Object(Et.a)(o,2),l=d[0],u=d[1],j=Object(i.useState)(!1),m=Object(Et.a)(j,2),b=m[0],f=m[1],O=Object(_.h)(),h=Object(_.g)(),v=g((function(e){return e.sign})).isAuthorized,y=function(){c&&s(!1),b&&e({type:ee}),b&&f(!1),l&&u(!1)},N=Object(_.j)("/ingredients/:id");return"POP"===h.action&&N&&N.isExact?Object(p.jsx)(_.d,{children:Object(p.jsx)(_.b,{path:"/ingredients/:id",children:Object(p.jsx)(aa,{})})}):Object(p.jsxs)("div",{className:ca.a.wrapper,children:[t.data&&t.data.length>0&&Object(p.jsx)($n.a,{backend:ea.a,children:Object(p.jsxs)("main",{className:ca.a.main,children:[Object(p.jsx)(Vt,{openModal:function(){f(!0)}}),n.data.length>0&&Object(p.jsx)(zt,{openModal:function(){if(v)if(n.sortedData.fillers.length>0&&Object.keys(n.sortedData.bun).length>0){var t=n.sortedData.fillers.map((function(e){return e._id}));e(nt(t)),s(!0)}else e({type:M,payload:"\u041f\u0443\u0441\u0442\u043e\u0439 \u0437\u0430\u043a\u0430\u0437"}),u(!0);else h.push("/login",{from:O})}})]})}),c&&Object(p.jsx)(rn,{modalTitle:null,closeModal:y,children:Object(p.jsx)(ln,{})}),l&&Object(p.jsx)(rn,{modalTitle:null,closeModal:y,children:Object(p.jsx)(jn,{})}),b&&Object(p.jsx)(rn,{modalTitle:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",closeModal:y,children:Object(p.jsx)(Zt,{})})]})},sa=n(57),oa=n.n(sa),da=function(){var e=x(),t=Object(_.g)(),n=Object(_.h)(),a=g((function(e){return e.sign})).isAuthorized,r=Object(i.useState)(Ie),c=Object(Et.a)(r,2),s=c[0],o=c[1];return Object(i.useEffect)((function(){e(ut())}),[]),Object(i.useEffect)((function(){switch(n.pathname){case"/profile/logout":var a=localStorage.getItem(Ne);a&&(e(lt(a)),t.push("/login"));break;case"/profile/orders":o(Ce);break;case"/profile":o(Ie)}}),[n]),a?Object(p.jsx)("div",{className:oa.a.wrapper,children:Object(p.jsxs)("div",{className:oa.a.profile,children:[Object(p.jsxs)("div",{className:oa.a.nav_container,children:[Object(p.jsx)(An,{}),Object(p.jsx)("p",{className:"".concat(oa.a.nav__text," text text_type_main-default text_color_inactive"),children:s})]}),Object(p.jsxs)(_.d,{children:[Object(p.jsx)(_.b,{path:"/profile/orders",children:Object(p.jsx)(hn,{})}),Object(p.jsx)(_.b,{path:"/profile",children:Object(p.jsx)(Rn,{})})]})]})}):null},la=n(129),ua=n.n(la),_a=function(){return Object(p.jsx)("div",{className:ua.a.wrapper,children:Object(p.jsx)(zn,{})})},ja=n(130),ma=n.n(ja),pa=function(){return Object(p.jsx)("div",{className:ma.a.wrapper,children:Object(p.jsx)(Ln,{})})},ba=n(58),fa=n.n(ba),Oa=function(){var e=Object(_.i)(),t=e.id,n=e.number,a=x(),r=g((function(e){return e.ingredients})).data,c=g((function(e){return e.viewedOrder})),s=c.isLoaded,o=c.isFetching,d=c.data;Object(i.useEffect)((function(){a(jt(n))}),[a]);var l=Object(i.useMemo)((function(){var e;return null===d||void 0===d||null===(e=d.ingredients)||void 0===e?void 0:e.map((function(e){return r.find((function(t){return t._id===e}))}))}),[d,r]),u=Object(i.useMemo)((function(){var e=[];return(null===l||void 0===l?void 0:l.length)&&l.forEach((function(t){if(!e.find((function(e){return e._id===(null===t||void 0===t?void 0:t._id)}))){var n,a=(null===(n=d.ingredients)||void 0===n?void 0:n.filter((function(e){return e===(null===t||void 0===t?void 0:t._id)})).length)||0;e.push(Object(f.a)(Object(f.a)({},t),{},{count:a}))}})),e}),[d,l]),j=Object(i.useMemo)((function(){return u.reduce((function(e,t){return e+t.price}),0)}),[u]);return!s&&(null===d||void 0===d?void 0:d._id)===t&&j&&a(_t(Object(f.a)(Object(f.a)({},d),{},{groupedIngredients:u,ingredientsWDetails:l,orderTotalPrice:j}))),o?Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8 ".concat(fa.a.wrapper),children:"\u0421\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u043c\u0441\u044f \u0441 \u043a\u0443\u0445\u043d\u0435\u0439, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."}):s&&!d?Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8 ".concat(fa.a.wrapper),children:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043e \u0437\u0430\u043a\u0430\u0437\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442. \u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."}):(null===d||void 0===d?void 0:d._id)===t&&j?Object(p.jsx)("div",{className:fa.a.wrapper,children:Object(p.jsx)(S,{})}):Object(p.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8 ".concat(fa.a.wrapper),children:"\u0418\u0449\u0435\u043c \u0437\u0430\u043a\u0430\u0437, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."})},ha=n(131),xa=n.n(ha),ga=function(){return Object(p.jsx)("div",{className:xa.a.wrapper,children:Object(p.jsx)(wn,{})})},va=n(101),ya=n.n(va),Na=function(){var e=x();return Object(i.useEffect)((function(){e(ut())}),[e]),Object(i.useEffect)((function(){e(Ke())}),[e]),Object(p.jsxs)("div",{className:ya.a.wrapper,children:[Object(p.jsx)("header",{className:ya.a.nav_panel,children:Object(p.jsx)(Nt,{})}),Object(p.jsxs)(_.d,{children:[Object(p.jsx)(_.b,{exact:!0,path:"/",children:Object(p.jsx)(ia,{})}),Object(p.jsx)(_.b,{path:"/feed/:id/:number",children:Object(p.jsx)(bt,{})}),Object(p.jsx)(_.b,{path:"/feed/:id",children:Object(p.jsx)(bt,{})}),Object(p.jsx)(_.b,{exact:!0,path:"/feed",children:Object(p.jsx)(qn,{})}),Object(p.jsx)(Jn,{path:"/login",children:Object(p.jsx)(Zn,{})}),Object(p.jsx)(Jn,{path:"/register",children:Object(p.jsx)(_a,{})}),Object(p.jsx)(Jn,{path:"/forgot-password",children:Object(p.jsx)(ga,{})}),Object(p.jsx)(Jn,{path:"/reset-password",children:Object(p.jsx)(pa,{})}),Object(p.jsx)(vn,{path:"/profile/orders/:id/:number",exact:!0,children:Object(p.jsx)(Oa,{})}),Object(p.jsx)(vn,{path:"/profile/orders/:id",exact:!0,children:Object(p.jsx)(Oa,{})}),Object(p.jsx)(vn,{path:"/profile",children:Object(p.jsx)(da,{})}),Object(p.jsx)(_.b,{path:"/ingredients/:id",children:Object(p.jsx)(ia,{})}),Object(p.jsx)(_.b,{children:Object(p.jsx)(b,{})})]})]})},Ea=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,228)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},wa=n(36),Sa=n(132),Ta={data:[],sortedData:{bun:{},fillers:[],empty:{}},total:0,lastUpdated:null},ka={data:[],isFetching:!1,fetchingFailed:!1,lastUpdated:null,error:null},Ia={data:{},numberOrd:0,isFetching:!1,fetchingFailed:!1,lastUpdated:null,error:null},Ca={user:{},isAuthorized:!1,isFetching:!1,fetchingFailed:!1,lastUpdated:null,error:null},Ra={data:{},lastUpdated:null},Da={data:{},isLoaded:!1,lastUpdated:null,isFetching:!1,fetchingFailed:!1,error:null},Fa={wsConnected:!1,data:{},error:null,wsConnectionFailed:!1},Aa={wsConnected:!1,data:{},error:null,wsConnectionFailed:!1},Ga=Object(wa.b)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:var n=Object(f.a)({},e.sortedData);return n="empty"===t.payload.type?Object(f.a)(Object(f.a)({},n),{},{empty:t.payload}):"bun"===t.payload.type?Object(f.a)(Object(f.a)({},n),{},{bun:t.payload}):Object(f.a)(Object(f.a)({},n),{},{fillers:[].concat(Object(wt.a)(n.fillers),[t.payload])}),Object(f.a)(Object(f.a)({},e),{},{data:[].concat(Object(wt.a)(e.data),[t.payload]),sortedData:n});case k:var a=Object(f.a)({},e.sortedData);return a.fillers=a.fillers.filter((function(e,n){return t.payload!==n})),Object(f.a)(Object(f.a)({},e),{},{sortedData:a});case R:var r=t.payload,c=r.dragIndex,i=r.hoverIndex,s=Object(f.a)({},e.sortedData);return s.fillers[c]=s.fillers.splice(i,1,s.fillers[c])[0],Object(f.a)(Object(f.a)({},e),{},{sortedData:s});case C:return Object(f.a)(Object(f.a)({},e),{},{data:[].concat(Object(wt.a)(e.data),Object(wt.a)(t.payload))});case I:return Ta;default:return e}},ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(f.a)(Object(f.a)({},e),{},{isFetching:!0});case F:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!1,data:t.payload,isFetching:!1});case A:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!0,isFetching:!1});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!1,isFetching:!0});case P:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!1,data:t.payload,numberOrd:t.payload.number,isFetching:!1});case z:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!0,isFetching:!1});case M:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!0,error:t.payload});default:return e}},viewedItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});case ee:return Object(f.a)(Object(f.a)({},e),{},{data:Ra.data});default:return e}},sign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!1,isAuthorized:!1,isFetching:!0});case L:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!1,isAuthorized:!0,user:t.payload,isFetching:!1});case W:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!0,isAuthorized:!1,isFetching:!1});case J:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!0,error:t.payload});case B:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!1,isAuthorized:!1,isFetching:!0});case H:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!1,isAuthorized:!0,user:t.payload,isFetching:!1});case V:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!0,isAuthorized:!1,isFetching:!1});case X:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!0,error:t.payload});case Q:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!1,isFetching:!0});case q:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!1,isAuthorized:!0,user:t.payload,isFetching:!1});case Y:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!0,isAuthorized:!1,isFetching:!1});case K:return Object(f.a)({},e);case Z:return Object(f.a)(Object(f.a)({},e),{},{user:Ca.user,isAuthorized:!1});default:return e}},wsAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(f.a)(Object(f.a)({},e),{},{wsConnected:!0,wsConnectionFailed:!1});case le:return Object(f.a)(Object(f.a)({},e),{},{error:t.payload,wsConnected:!1,wsConnectionFailed:!0});case ue:return Object(f.a)(Object(f.a)({},e),{},{error:null,wsConnected:!1,wsConnectionFailed:!1});case _e:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return e}},wsSign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(f.a)(Object(f.a)({},e),{},{wsConnected:!0,wsConnectionFailed:!1});case be:return Object(f.a)(Object(f.a)({},e),{},{error:t.payload,wsConnected:!1,wsConnectionFailed:!0});case fe:return Object(f.a)(Object(f.a)({},e),{},{error:null,wsConnected:!1,wsConnectionFailed:!1});case Oe:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return e}},viewedOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload,isLoaded:!0});case ne:return Object(f.a)(Object(f.a)({},e),{},{data:Da.data});case ae:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!1,isFetching:!0});case re:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!1,data:t.payload,isLoaded:!1,isFetching:!1});case ce:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!0,isFetching:!1});case ie:return Object(f.a)(Object(f.a)({},e),{},{fetchingFailed:!0,error:t.payload});default:return e}}}),Pa=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):wa.c)(Object(wa.a)(Sa.a,(_n="wss://norma.nomoreparties.space/orders/all",function(e){var t=null;return function(n){return function(a){var r=e.dispatch,c=a.type,i=a.payload;c===se&&(t=new WebSocket(_n)),c===oe&&t.close(1e3,"Page closed by user"),t&&(t.onopen=function(e){r({type:de,payload:e})},t.onerror=function(e){r({type:le,payload:e})},t.onmessage=function(e){var n=e.data;(null===n||void 0===n?void 0:n.includes("ping"))&&t.send("pong");var a=JSON.parse(n),c=a.success,i=a.message,s=a.orders,o=a.total,d=a.totalToday;c?r({type:_e,payload:{orders:s,total:o,totalToday:d}}):i&&r({type:le,payload:i})},t.onclose=function(e){r({type:ue,payload:e})},"WS_SEND_MESSAGE"===c&&t.send(JSON.stringify(i))),n(a)}}}),function(e){return function(t){var n=null;return function(a){return function(r){var c=t.dispatch,i=r.type,s=r.payload,o=tt();i===je&&(n=new WebSocket("".concat(e,"?token=").concat(o))),i===me&&n.close(1e3,"Page closed by user"),n&&(n.onopen=function(e){c({type:pe,payload:e})},n.onerror=function(e){c({type:be,payload:e})},n.onmessage=function(e){var t=e.data;(null===t||void 0===t?void 0:t.includes("ping"))&&n.send("pong");var a=JSON.parse(t),r=a.success,i=a.message,s=a.orders,o=a.total,d=a.totalToday;r?c({type:Oe,payload:{orders:s,total:o,totalToday:d}}):i&&c({type:be,payload:i})},n.onclose=function(e){c({type:fe,payload:e})},"WS_SIGN_SEND_MESSAGE"===i&&n.send(JSON.stringify(s))),a(r)}}}}("wss://norma.nomoreparties.space/orders"))),za=Object(wa.d)(Ga,Pa);d.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(l.a,{store:za,children:Object(p.jsx)(u.a,{basename:"/react-burger",children:Object(p.jsx)(Na,{})})})}),document.querySelector("#root")),Ea()},28:function(e,t,n){e.exports={login:"sign-login_login__2MplG",input_container:"sign-login_input_container__1053a",title:"sign-login_title__3D1VE",form:"sign-login_form__1jeib",button_container:"sign-login_button_container__1huX_",link_container:"sign-login_link_container__1WOEM",text:"sign-login_text__2Fs1j",link:"sign-login_link__37B_X",error_active:"sign-login_error_active__wDCwy"}},29:function(e,t,n){e.exports={order_item:"orders-card_order_item__1gmyI",order_number:"orders-card_order_number__3gYbE",order_info:"orders-card_order_info__Cm8zp",done:"orders-card_done__2QoMv",ingredients_info:"orders-card_ingredients_info__E0THG",ingredients_price:"orders-card_ingredients_price__skWDt",ingredients_list:"orders-card_ingredients_list__PU5dq",ingredient_wrapper:"orders-card_ingredient_wrapper__3XsTd",ingredient:"orders-card_ingredient__jZ2SJ",count_wrapper:"orders-card_count_wrapper__MG1w1"}},32:function(e,t,n){e.exports={login:"sign-forgot-password_login__1at7-",input_container:"sign-forgot-password_input_container__1ro4U",title:"sign-forgot-password_title__32E61",form:"sign-forgot-password_form__3Z5_C",button_container:"sign-forgot-password_button_container__1ZziR",link_container:"sign-forgot-password_link_container__3GSgt",text:"sign-forgot-password_text__2DBIh",link:"sign-forgot-password_link__1DA9s",error_active:"sign-forgot-password_error_active__3O7nl"}},33:function(e,t,n){e.exports={login:"sign-register_login__19Jz7",input_container:"sign-register_input_container__1lQil",title:"sign-register_title__1v_kr",form:"sign-register_form__1k3Tt",button_container:"sign-register_button_container__2_rG7",link_container:"sign-register_link_container__3kFtG",text:"sign-register_text__3hGcl",link:"sign-register_link__2OQ_r",error_active:"sign-register_error_active__3cxEI"}},34:function(e,t,n){e.exports={login:"sign-reset-password_login__1og4V",input_container:"sign-reset-password_input_container__1foo2",title:"sign-reset-password_title__3TK5h",form:"sign-reset-password_form__2saAJ",button_container:"sign-reset-password_button_container__StYPs",link_container:"sign-reset-password_link_container__RYk1b",text:"sign-reset-password_text__vBfGG",link:"sign-reset-password_link__WLEwp",error_active:"sign-reset-password_error_active__1KRIm"}},38:function(e,t,n){e.exports={menu_link:"sign-profile-nav_menu_link__1dQyw",menu_link_active:"sign-profile-nav_menu_link_active__1RihR",nav_list:"sign-profile-nav_nav_list__YrNN8"}},41:function(e,t,n){e.exports={page404:"page-404_page404__3TDhr",container:"page-404_container__b3wR4",title:"page-404_title__2JsT1",text:"page-404_text__2vXC4",num:"page-404_num__3b_x5",link:"page-404_link__15BJI"}},53:function(e,t,n){e.exports={wrapper:"page-feed-card_wrapper__3cAbF"}},54:function(e,t,n){e.exports={container:"app-header_container__dg7oJ",menu:"app-header_menu__pvWY3",menu_right:"app-header_menu_right__2LSJ6",menu_link:"app-header_menu_link__2AjhK",logo:"app-header_logo__2S7FZ"}},55:function(e,t,n){e.exports={container:"burger-constructor_container__3m4g6",scroll_list:"burger-constructor_scroll_list__1TUwF",item_list:"burger-constructor_item_list__3ZcFi",checkout_container:"burger-constructor_checkout_container__chMEp"}},56:function(e,t,n){e.exports={item:"burger-ingredient_item__2Eweg",item_image:"burger-ingredient_item_image__1ot4t",item_description:"burger-ingredient_item_description___SlRu",item_name:"burger-ingredient_item_name__3OWYq"}},57:function(e,t,n){e.exports={profile:"page-profile_profile__1EkIJ",nav_container:"page-profile_nav_container__1QFSE",nav__text:"page-profile_nav__text__3pq5M"}},58:function(e,t,n){e.exports={wrapper:"page-order-history_wrapper__XL8L3"}},92:function(e,t,n){e.exports={menu_link:"menu-item_menu_link__3lcuF",menu_link_active:"menu-item_menu_link_active__UErFm"}},93:function(e,t,n){e.exports={item:"burger-constructor-item-swap_item__1UV2c",item_elem:"burger-constructor-item-swap_item_elem__2qya1",drag_icon:"burger-constructor-item-swap_drag_icon__Jin08"}},95:function(e,t,n){e.exports={container:"ingredient-details_container__1wd87",details_list:"ingredient-details_details_list__12j2T",details_list_item:"ingredient-details_details_list_item__1Z_zX"}},96:function(e,t,n){e.exports={modal:"modal_modal__1h5My",header:"modal_header__3Y63R"}},97:function(e,t,n){e.exports={profile:"sign-profile_profile__eXsD-",nav_container:"sign-profile_nav_container__H9RiE",nav__text:"sign-profile_nav__text__zvTSd",form:"sign-profile_form__1MTsP",button_container:"sign-profile_button_container__3NwkI",error:"sign-profile_error__pmjBe",error_active:"sign-profile_error_active__20e35"}},98:function(e,t,n){e.exports={wrapper:"page-ingredient_wrapper__DzgNi"}},99:function(e,t,n){e.exports={wrapper:"page-main_wrapper__2vjUY",nav_panel:"page-main_nav_panel__1m7C4",main:"page-main_main__1RTnM"}}},[[216,1,2]]]);
//# sourceMappingURL=main.fdc11ecc.chunk.js.map